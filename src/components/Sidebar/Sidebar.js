import React from 'react'
import './Sidebar.css'

function Sidebar(props) {
  if (!props.modeSetter || !props.mode) return <div>info is not provided</div>

  const setShowingBook = props.setShowingBook


  function homeButtonCallback() { 
    setShowingBook(false)
  }

  function penButtonCallback() {
    if (props.mode === 'pen') props.modeSetter('none')
    else props.modeSetter('pen')
  }

  function lineButtonCallback() {
    if (props.mode === 'line') props.modeSetter('none')
    else props.modeSetter('line')
  }

  function textButtonCallback() {
    props.modeSetter('none')
    props.setData(e => {
      let res = e
      res.texts.push({top: 5, left: 5, text: 'text'})
      return res
    })
    props.setRedrawTexts(e => !e)
  }

  function backButtonCallback() {
    if (props.undoing) props.undoing()
  }

  function settingsButtonCallback() {
  }

  function eraserButtonCallback() {
    if (props.mode === 'eraser') props.modeSetter('none')
    else props.modeSetter('eraser')    
  }



  return (
    <div className="flex flex-col items-center justify-center sidebar-container text-ink">
      <button
        onClick={homeButtonCallback}
        className="sidebar-button"
      >
        <svg viewBox="0 0 32 32" fill="none" stroke="currentcolor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5">
          <path d="M4 8 L28 8 M4 16 L28 16 M4 24 L28 24" />
        </svg>
      </button>

      <button
        onClick={penButtonCallback}
        className={`sidebar-button p-1 ${props.mode==='pen'?'btn-selected':''}`}
      >
        <svg viewBox="0 0 32 32" fill="none" stroke="currentcolor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5">
          <path d="M30 7 L25 2 5 22 3 29 10 27 Z M21 6 L26 11 Z M5 22 L10 27 Z" />
        </svg>
      </button>

      <button
        onClick={lineButtonCallback}
        className={`sidebar-button p-1 ${props.mode==='line'?'btn-selected':''}`}
      >
        <svg viewBox="0 0 1000 1000" fill="currentcolor">
          <path d="M801.2 5.5l-801.2 786.2 198.8 202.5 801.2-786.2-198.79999999999995-202.5z m61 268.7l-27.5 26.900000000000034-39.90000000000009-40.700000000000045-25.5 24.900000000000034 40 40.69999999999999-37.69999999999993 36.89999999999998-61.60000000000002-62.69999999999999-25.299999999999955 24.900000000000034 61.5 62.69999999999999-27.40000000000009 27.099999999999966-40-40.89999999999998-25.299999999999955 24.899999999999977 39.799999999999955 40.900000000000034-36.89999999999998 36.19999999999999-68.10000000000002-69.19999999999999-25.5 24.899999999999977 68.10000000000002 69.19999999999999-27.399999999999977 27.100000000000023-46.39999999999998-47.30000000000001-25.5 24.900000000000034 46.5 47.299999999999955-37.700000000000045 36.89999999999998-68.09999999999997-69.29999999999995-25.30000000000001 24.899999999999977 68 69.30000000000007-27.5 26.899999999999977-46.39999999999998-47.30000000000007-25.30000000000001 24.90000000000009 46.5 47.299999999999955-35 34.299999999999955-67.90000000000003-69.39999999999998-25.5 25 68.20000000000005 69.30000000000007-27.5 26.899999999999977-46.400000000000034-47.30000000000007-25.399999999999977 24.90000000000009 46.30000000000001 47.299999999999955-37.60000000000002 36.89999999999998-68.1-69.19999999999993-25.30000000000001 24.799999999999955 68.00000000000003 69.29999999999995-27.400000000000034 27.100000000000023-46.5-47.5-25.299999999999983 24.899999999999977 46.5 47.5-34.099999999999994 33.200000000000045-129.4-132.10000000000002 730.8000000000001-717.1999999999999 129.5 132.09999999999997-42.80000000000007 41.89999999999998-61.39999999999998-62.69999999999999-25.5 24.900000000000006 61.700000000000045 62.79999999999998z"/>
        </svg>
      </button>

      <button
        onClick={eraserButtonCallback}
        className={`sidebar-button p-1 ${props.mode==='eraser'?'btn-selected':''}`}
      >
        <svg viewBox="0 0 1000 1000" fill="currentcolor">
          <path d="M903.3 476.3c47.10000000000002-48.69999999999999 45-120.5-2.7999999999999545-168.3-53.5-53.599999999999994-107.10000000000002-107.19999999999999-160.60000000000002-160.7-50-50.000000000000014-123.69999999999993-50.10000000000001-173.69999999999993-0.10000000000002274-155.40000000000003 155.3-310.70000000000005 310.6-466.00000000000006 466.00000000000006-49.999999999999986 50-50.19999999999999 123.5-0.3999999999999915 173.79999999999995 29.39999999999999 29.799999999999955 58.8 59.700000000000045 89.10000000000001 88.5 6.400000000000006 6 17 10.399999999999977 25.69999999999999 10.600000000000023 43.70000000000002 1.1000000000000227 87.50000000000003 0.5 131.20000000000002 0.5 42.80000000000001 0 85.59999999999997-0.39999999999997726 128.39999999999998 0.2999999999999545 13.800000000000011 0.20000000000004547 23.80000000000001-3.8999999999999773 33.60000000000002-13.699999999999932 72.19999999999999-72.80000000000007 144.90000000000003-145.20000000000005 217.3-217.70000000000005 59.60000000000002-59.700000000000045 119.69999999999993-118.70000000000005 178.19999999999993-179.2z m-298.5 244.99999999999994l-57.69999999999993 57.700000000000045c-20.600000000000023 20.600000000000023-41 41.5-62.10000000000002 61.700000000000045-4.199999999999989 4-11.100000000000023 7.2999999999999545-16.80000000000001 7.399999999999977-81.39999999999998 0.5-162.8 0.39999999999997726-244.2 0-5.300000000000011 0-11.900000000000006-2.8999999999999773-15.699999999999989-6.600000000000023-28-27.299999999999955-55.80000000000001-54.700000000000045-82.9-82.79999999999995-33.400000000000006-34.700000000000045-33.30000000000001-83.10000000000002 0.6999999999999886-117.40000000000009 55.5-56 156.20000000000002-156.29999999999995 199.50000000000003-199.19999999999993 11.399999999999977-11.300000000000011 29.799999999999955-11.200000000000045 41.099999999999966 0.19999999999998863l238.09999999999997 238.09999999999997c11.300000000000068 11.300000000000068 11.300000000000068 29.600000000000023 0 40.89999999999998z m-3.699999999999932 143.10000000000002h336.4v25.600000000000023h-336.4v-25.600000000000023z"/>
        </svg>
      </button>

      <button
        onClick={textButtonCallback}
        className="sidebar-button p-1"
      >
        <svg viewBox='0 0 512 512'><rect x='96' y='48' width='320' height='416' rx='48' ry='48' fill='none' stroke='currentColor' strokeLinejoin='round' strokeWidth='24'/><path fill='none' stroke='currentColor' strokeLinecap='round' strokeLinejoin='round' strokeWidth='24' d='M176 128h160M176 208h160M176 288h80'/></svg>
      </button>

      <button
        onClick={backButtonCallback}
        className="sidebar-button flip-content"
      >
        <svg viewBox='0 0 512 512'><path d='M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128' fill='none' stroke='currentColor' strokeLinecap='round' strokeMiterlimit='10' strokeWidth='24'/><path d='M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z' fill='currentColor'/></svg>
      </button>

      <button
        onClick={settingsButtonCallback}
        className="sidebar-button p-1"
      >
        <svg viewBox="0 0 32 32" fill="none" stroke="currentcolor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="1.5">
          <path d="M13 2 L13 6 11 7 8 4 4 8 7 11 6 13 2 13 2 19 6 19 7 21 4 24 8 28 11 25 13 26 13 30 19 30 19 26 21 25 24 28 28 24 25 21 26 19 30 19 30 13 26 13 25 11 28 8 24 4 21 7 19 6 19 2 Z" />
          <circle cx="16" cy="16" r="4" />
        </svg>
      </button>
    </div>
  )
}




export default Sidebar
